import { Meta, Canvas } from "@storybook/addon-docs/blocks";

import * as RequiredField from "./RequiredField.stories.js";
import RequiredFieldMultipleWithAsteriskSrc from "./RequiredFieldMultipleWithAsterisk?raw";
import RequiredFieldMultipleNoAsteriskSrc from "./RequiredFieldMultipleNoAsterisk?raw";

# Required Field

The following examples demonstrate best practices for required fields.

#### Provide an explanation of how required fields are represented

- Always provide instructions that explain required field formatting to users.
  - If using red asterisks to indicate required fields, include instructions that explain the
    meaning of the red asterisks. Otherwise, the instructions or labels should provide information
    on what is required.

#### When to implement required field validation

- The default behavior should be to validate required fields on a user action, such as Continue,
  Save, or Submit.
  - If validations are implemented on blur, this should be done intentionally on specific fields,
    not as a default behavior.

#### `Required` and `noValidate` attributes

- Add the `required` attribute to required form fields to indicate that a field must be filled out
  before submitting the form.
  - The `noValidate` attribute is set on the form to disable the browser's automatic client side
    validation and utilize custom client side validation. Note `noValidate` will also disable other
    native validations on form elements (e.g. `type`, `minLength`, etc.)
  - You can consider using `aria-required="true"` instead if you need to preserve native form
    validation. However, consider that these validations will override custom styling implemented by
    custom client-side validation, and whether this is desired behavior.

## Example 1: Required field pattern with asterisks

<Canvas
  of={RequiredField.WithAsterisk}
  source={{ code: RequiredFieldMultipleWithAsteriskSrc, language: "tsx" }}
  sourceState="hide"
/>

## Example 2: Required field pattern without asterisks

<Canvas
  of={RequiredField.WithoutAsterisk}
  source={{ code: RequiredFieldMultipleNoAsteriskSrc, language: "tsx" }}
  sourceState="hide"
/>

## References

[NJWDS Required Field Documentation](https://office-of-innovation.gitbook.io/njwds/required-fields)
